kind: rule
apiVersion: config.istio.io/v1alpha2
metadata:
  name: handler-auto-rule2
  namespace: istio-system
  labels:
    kiali_wizard: threescale
  managedFields:
    - manager: 'Go-http-client'
      operation: Update
      apiVersion: config.istio.io/v1alpha2
spec:
  match: >-
    context.reporter.kind == "inbound" &&
    destination.labels["service-mesh.3scale.net/credentials"] == "handler-auto-rule2" &&
    destination.labels["service-mesh.3scale.net/authentication-method"] == ""
  actions:
    - handler: handler-auto2.handler.istio-system
      instances:
        - handler-auto-rule2.instance.istio-system
